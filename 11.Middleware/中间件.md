## 定义

**装配到应用管道以处理请求和响应的组件**。每个组件：

- 选择是否将请求传递到管道中的下一个组件。
- 可以在管道中的下一个组件前后执行工作。

请求管道中的每个中间件负责调用管道中的下一个中间件，或者使管道短路。

当中间件短路时，它被称为`终端中间件`，因为他阻止中间件进一步处理请求。

## 常用方法

1、app.Use();

启用某个中间件。

2、app.Run();

启用中间件，并在此方法结束管道。

3、app.Map();

## 自定义中间件

1、中间件类的构造函数必须有 RequestDelegate 参数

2、必须要有 Invoke 或 InvokeAsync 函数，且返回值为 Task，参数为 HttpContext
